<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PHÖNIX Prototyp</title>

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />

  <!-- Custom Styles (deine Styles bleiben!) -->
  <link rel="stylesheet" href="css/custom.css" />

  <!-- mini helper: nur für display-none toggle -->
  <style>
    .sidebar.is-hidden { display: none !important; }
  </style>
</head>

<body>

  <!-- TOPBAR -->
  <header class="topbar">
    <!-- Toggle oben links neben PHÖNIX -->
    <button
      id="sidebarToggle"
      type="button"
      class="btn btn-sm btn-outline-light me-2"
      aria-label="Navigation ein-/ausblenden"
      title="Navigation ein-/ausblenden"
    >
      <i class="bi bi-list"></i>
    </button>

    <div class="fw-bold">PHÖNIX</div>
    <div class="small text-white-50">Prototyp</div>
  </header>

  <!-- LAYOUT -->
  <div class="layout">

    <!-- SIDEBAR -->
    <nav class="sidebar" id="sidebar">

      <a href="#" class="nav-link-custom active" data-page="dashboard.html">
        <i class="bi bi-speedometer2"></i> Dashboard
      </a>

      <a href="#" class="nav-link-custom" data-page="teilnehmer.html">
        <i class="bi bi-person-lines-fill"></i> Teilnehmer
      </a>

      <a href="#" class="nav-link-custom" data-page="massnahme.html">
        <i class="bi bi-cpu"></i> Maßnahme
      </a>

      <a href="#" class="nav-link-custom" data-page="gruppen.html">
        <i class="bi bi-people-fill"></i> Gruppen
      </a>

      <a href="#" class="nav-link-custom" data-page="dozenten.html">
        <i class="bi bi-mortarboard-fill"></i> Dozenten
      </a>

      <!-- PARAMETER: mit Untermenü (wie vorher) -->
      <a
        href="#"
        class="nav-link-custom"
        data-bs-toggle="collapse"
        data-bs-target="#parameterSubmenu"
        aria-expanded="false"
        aria-controls="parameterSubmenu"
        data-no-load="true"
      >
        <i class="bi bi-sliders"></i> Parameter
        <i class="bi bi-chevron-down ms-auto small"></i>
      </a>

      <div class="collapse ps-3" id="parameterSubmenu">

        <a href="#" class="nav-link-custom" data-page="parameter-textbausteine.html">
          <i class="bi bi-chat-square-text"></i> Textbausteine
        </a>

        <a href="#" class="nav-link-custom" data-page="parameter-anwesenheit.html">
          <i class="bi bi-calendar-check"></i> Anwesenheit/Verbleib
        </a>

        <a href="#" class="nav-link-custom" data-page="parameter-organisation.html">
          <i class="bi bi-diagram-3"></i> Organisation
        </a>

        <a href="#" class="nav-link-custom" data-page="parameter-stammdaten.html">
          <i class="bi bi-database"></i> Stammdaten
        </a>

      </div>

    </nav>

    <!-- MAIN CONTENT -->
    <main class="main">
      <iframe id="mainFrame" src="dashboard.html"></iframe>
    </main>

  </div>

  <!-- Bootstrap JS (für Collapse) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // ===== Sidebar Toggle (display none) =====
    const sidebar = document.getElementById("sidebar");
    const sidebarToggle = document.getElementById("sidebarToggle");

    sidebarToggle.addEventListener("click", () => {
      sidebar.classList.toggle("is-hidden");
    });

    // ===== Navigation: iframe laden + active setzen =====
    document.querySelectorAll(".nav-link-custom").forEach(link => {
      link.addEventListener("click", function (e) {
        e.preventDefault();

        // Wenn Link nur als Toggle dient (Parameter), nichts laden
        if (this.getAttribute("data-no-load") === "true") return;

        const page = this.getAttribute("data-page");
        if (!page) return;

        // active class setzen (für alle Links inkl. Sub-Links)
        document.querySelectorAll(".nav-link-custom").forEach(l => l.classList.remove("active"));
        this.classList.add("active");

        // iframe laden
        document.getElementById("mainFrame").src = page;
      });
    });
  </script>

</body>
</html>
